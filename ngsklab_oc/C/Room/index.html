<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
		<title>a</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/p5.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.6.0/addons/p5.dom.min.js"></script>
		<script src="https://unpkg.com/ml5@0.1.1/dist/ml5.min.js" type="text/javascript"></script>
	</head>

	<body>
		<style>
			html,body {
				width: 100%;
				height: 100%;
			}
			body{
				overflow: hidden;
				display: flex;
				justify-content: center;
				/* align-items: center; */
				background-color: rgb(0, 5, 37);

			}

			.center{
				position: relative;
			}

			.mp4{width: 100%;height: 100%;

				/* 補完方法 */
				image-rendering: pixelated;
			}

			.mute{
				opacity: 0.0;
			}
			.k{
	            position: absolute;
            }

            /* 後で消す */
			.box{
				color: rgb(255, 255, 255);
			}

		</style>

    <!-- 後で消す<div class="box" id="hako1">あ</div> -->

	<div class="center ">
	</div>
	<video id="0" class="mp4 k" playsinline loop autoplay src="./movie/000.mp4"></video>

	<video id="3" class="mp4 mute k" playsinline loop autoplay src="./movie/003.mp4"></video>
	<video id="1" class="mp4 mute k" playsinline loop autoplay src="./movie/001.mp4"></video>
	<video id="2" class="mp4 mute k" playsinline loop autoplay src="./movie/002.mp4"></video>

	<script src="sketch.js"></script>
	<script>
		var b = document.getElementById("3");
		var c = document.getElementById("2");
		var d = document.getElementById("1");
		var e = document.getElementById("0");
		b.volume = 0;
		c.volume = 0;
		d.volume = 0;
		e.volume = 0;

		const p=document.getElementById("3");
		const o=document.getElementById("2");
		const i=document.getElementById("1");
		const u=document.getElementById("0");

		function no(){
			p.classList.add("mute");
			o.classList.add("mute");
			i.classList.add("mute");
			b.volume = 0;
		    c.volume = 0;
		    d.volume = 0;
		    e.volume = 0;
		}
		function one(){
			p.classList.add("mute");
			o.classList.add("mute");
			i.classList.remove("mute");
			b.volume = 0;
		    c.volume = 0;
		    d.volume = 1;
		    e.volume = 0;
		}
		function two(){
			p.classList.add("mute");
			o.classList.remove("mute");
			i.classList.add("mute");
			b.volume = 0;
		    c.volume = 1;
		    d.volume = 0;
		    e.volume = 0;
		}
		function three(){
			p.classList.remove("mute");
			o.classList.add("mute");
			i.classList.add("mute");
			b.volume = 1;
		    c.volume = 0;
		    d.volume = 0;
		    e.volume = 0;
		}

		// キー入力で反応
		window.addEventListener('keydown', changemp4);
		function changemp4(f){
			if(f.key=="0"){	no()}
			if(f.key=="1"){	one()}
			if(f.key=="2"){ two()}
			if(f.key=="3"){ three()}
			if(f.key=="q"){ cameraOff()}

		}

		// カメラで反応
		setInterval(()=>{
		// for(let i = 0; i < hito; i++){
		if(hito==0){no()}
		if(hito==1){one()}
		if(hito==2){two()}
		if(hito==3){three()}
		})

		// フルスクリーン
		window.addEventListener('load', function(){
			window.addEventListener('keypress', switchFullScreen);
		});
		function switchFullScreen(event) {
			if( event.key === "f" || event.type === "click" ) {
				if( checkFullScreen() ) {
					if( document.exitFullscreen ) {
						document.exitFullscreen();
					} else if( document.mozCancelFullScreen ) {
						document.mozCancelFullScreen();
					} else if( document.webkitCancelFullScreen ) {
						document.webkitCancelFullScreen();
					} else if( document.msExitFullscreen ) {
						document.msExitFullscreen();
					}
				} else {
					if( document.body.requestFullscreen ) {
						document.body.requestFullscreen();
					} else if( document.body.mozRequestFullScreen ) {
						document.body.mozRequestFullScreen();
					} else if( document.body.webkitRequestFullscreen ) {
						document.body.webkitRequestFullscreen();
					} else if( document.body.msRequestFullscreen ) {
						document.body.msRequestFullscreen();
					}
				}
			}
		}
		function checkFullScreen() {
			var fullscreen_flag = false;
			if( document.fullscreenElement || document.mozFullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement ) {
				fullscreen_flag = true;
			}
			return fullscreen_flag;
		}
    </script>

	</body>
</html>
